var App=function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n,r=i(2),s=i(1),a=function(){function t(t){this.lineWidth=6,this.game=t,this.matriz=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,1],[1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1],[1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,0,1,0,1,1,1,1,1,0,1,0,0,0,0,1],[1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1],[1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,1],[9,9,9,1,0,1,0,0,0,0,0,0,0,1,0,1,9,9,9],[1,1,1,1,0,1,0,1,1,6,1,1,0,1,0,1,1,1,1],[8,7,7,7,0,0,0,1,6,6,6,1,0,0,0,7,7,7,8],[1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1],[9,9,9,1,0,1,0,0,0,9,0,0,0,1,0,1,9,9,9],[1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,1,1,1],[1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1],[1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1],[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1],[1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1],[1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,1],[1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],this.pacBornCoords={x:9*this.game.blockSize,y:12*this.game.blockSize},this.ghostBornCoords={x:{begin:8*this.game.blockSize,end:10*this.game.blockSize},y:{begin:10*this.game.blockSize,end:10*this.game.blockSize}},this.lengthX=this.matriz[0].length,this.lengthY=this.matriz.length}return t.prototype.render=function(){for(var t=0;t<this.matriz.length;t++)for(var e=0;e<this.matriz[t].length;e++)this.renderBlock(t,e)},t.prototype.renderBlock=function(t,e){var i=this.matriz[t][e],r=e*this.game.blockSize,s=t*this.game.blockSize,a=r+this.game.blockSize,h=s+this.game.blockSize,c=r+this.game.blockSize/2,l=s+this.game.blockSize/2;switch(i){case n.WALL:var u=this.getWallDirection(t,e);if(u===o.CROSS)break;if(this.game.context.beginPath(),this.game.context.strokeStyle=this.game.colors.wall,this.game.context.lineWidth=this.lineWidth,this.game.context.lineCap="round",u.indexOf("HORIZONTAL")>=0&&(u===o.HORIZONTAL?(this.game.context.moveTo(r,l),this.game.context.lineTo(a,l)):u===o.HORIZONTAL_LEFT?(this.game.context.moveTo(r,l),this.game.context.lineTo(c,l)):u===o.HORIZONTAL_RIGHT&&(this.game.context.moveTo(c,l),this.game.context.lineTo(a,l))),u.indexOf("VERTICAL")>=0&&(u===o.VERTICAL?(this.game.context.moveTo(c,s),this.game.context.lineTo(c,h)):u===o.VERTICAL_TOP?(this.game.context.moveTo(c,s),this.game.context.lineTo(c,l)):u===o.VERTICAL_BOTTOM&&(this.game.context.moveTo(c,l),this.game.context.lineTo(c,h))),u===o.LEFT_TOP||u===o.RIGHT_TOP||u===o.LEFT_BOTTOM||u===o.RIGHT_BOTTOM){var d=void 0;u===o.LEFT_TOP&&(d=this.getLeftTopCurveCoord(r,s)),u===o.RIGHT_TOP&&(d=this.getRightTopCurveCoord(r,s)),u===o.LEFT_BOTTOM&&(d=this.getLeftBottomCurveCoord(r,s)),u===o.RIGHT_BOTTOM&&(d=this.getRightBottomCurveCoord(r,s)),this.game.context.moveTo(d.x1,d.y1),this.game.context.quadraticCurveTo(d.xMid,d.yMid,d.x2,d.y2)}if(u===o.BIFURC_LEFT||u===o.BIFURC_RIGHT||u===o.BIFURC_TOP||u===o.BIFURC_BOTTOM){d={curve01:{x1:0,y1:0,x2:0,y2:0,xMid:0,yMid:l},curve02:{x1:0,y1:0,x2:0,y2:0,xMid:0,yMid:l}};u===o.BIFURC_LEFT&&(d.curve01=this.getRightTopCurveCoord(r,s),d.curve02=this.getRightBottomCurveCoord(r,s)),u===o.BIFURC_RIGHT&&(d.curve01=this.getLeftTopCurveCoord(r,s),d.curve02=this.getLeftBottomCurveCoord(r,s)),u===o.BIFURC_TOP&&(d.curve01=this.getRightBottomCurveCoord(r,s),d.curve02=this.getLeftBottomCurveCoord(r,s)),u===o.BIFURC_BOTTOM&&(d.curve01=this.getRightTopCurveCoord(r,s),d.curve02=this.getLeftTopCurveCoord(r,s)),this.game.context.moveTo(d.curve01.x1,d.curve01.y1),this.game.context.quadraticCurveTo(d.curve01.xMid,d.curve01.yMid,d.curve01.x2,d.curve01.y2),this.game.context.moveTo(d.curve02.x1,d.curve02.y1),this.game.context.quadraticCurveTo(d.curve02.xMid,d.curve02.yMid,d.curve02.x2,d.curve02.y2)}this.game.context.stroke();break;case n.BISCUIT:var p=this.game.map.getIndexesByCoordinates(r,s);if(!this.game.user.biscuitIsGetted(p.i,p.j)){this.game.context.beginPath(),this.game.context.fillStyle=this.game.colors.biscuit,this.game.context.arc(c,l,2,0,2*Math.PI,!0),this.game.context.fill()}break;case n.PILL:p=this.game.map.getIndexesByCoordinates(r,s);if(!this.game.user.pillIsGetted(p.i,p.j)){this.game.context.drawImage(this.game.coinImg,c-12,l-12,24,24)}}},t.prototype.getLeftTopCurveCoord=function(t,e){return{x1:t+this.game.blockSize,y1:e+this.game.blockSize/2,x2:t+this.game.blockSize/2,y2:e+this.game.blockSize,xMid:t+this.game.blockSize/2,yMid:e+this.game.blockSize/2}},t.prototype.getRightTopCurveCoord=function(t,e){return{x1:t,y1:e+this.game.blockSize/2,x2:t+this.game.blockSize/2,y2:e+this.game.blockSize,xMid:t+this.game.blockSize/2,yMid:e+this.game.blockSize/2}},t.prototype.getLeftBottomCurveCoord=function(t,e){return{x1:t+this.game.blockSize/2,y1:e,x2:t+this.game.blockSize,y2:e+this.game.blockSize/2,xMid:t+this.game.blockSize/2,yMid:e+this.game.blockSize/2}},t.prototype.getRightBottomCurveCoord=function(t,e){return{x1:t+this.game.blockSize/2,y1:e,x2:t,y2:e+this.game.blockSize/2,xMid:t+this.game.blockSize/2,yMid:e+this.game.blockSize/2}},t.prototype.getWallDirection=function(t,e){return this.wallIsLine(t,e)?this.wallIsVertical(t,e)?this.getWallVerticalDirection(t,e):this.getWallHorizontalDirection(t,e):this.wallIsBifurcLeft(t,e)?o.BIFURC_LEFT:this.wallIsBifurcBottom(t,e)?o.BIFURC_BOTTOM:this.wallIsBifurcTop(t,e)?o.BIFURC_TOP:this.wallIsBifurcRight(t,e)?o.BIFURC_RIGHT:this.wallIsLeftTop(t,e)?o.LEFT_TOP:this.wallIsLeftBottom(t,e)?o.LEFT_BOTTOM:this.wallIsRightTop(t,e)?o.RIGHT_TOP:this.wallIsRightBottom(t,e)?o.RIGHT_BOTTOM:o.CROSS},t.prototype.wallIsLine=function(t,e){var i=this.getLeftBlock(t,e),o=this.getRightBlock(t,e),r=this.getTopBlock(t,e),s=this.getBottomBlock(t,e),a=this.getLeftTopBlock(t,e),h=this.getRightTopBlock(t,e),c=this.getLeftBottomBlock(t,e),l=this.getRightBottomBlock(t,e),u=n.WALL;return(i===u||o===u)&&r!==u&&s!==u||(i===u&&o===u&&r===u&&a===u&&h===u||(i===u&&o===u&&s===u&&c===u&&l===u||((r===u||s===u)&&i!==u&&o!==u||(r===u&&s===u&&i===u&&a===u&&c===u||r===u&&s===u&&o===u&&h===u&&l===u))))},t.prototype.getWallHorizontalDirection=function(t,e){var i=this.getLeftBlock(t,e),r=this.getRightBlock(t,e),s=n.WALL;return r===s&&i!==s?o.HORIZONTAL_RIGHT:i===s&&r!==s?o.HORIZONTAL_LEFT:o.HORIZONTAL},t.prototype.getWallVerticalDirection=function(t,e){var i=this.getTopBlock(t,e),r=this.getBottomBlock(t,e),s=n.WALL;return i===s&&r!==s?o.VERTICAL_TOP:r===s&&i!==s?o.VERTICAL_BOTTOM:o.VERTICAL},t.prototype.wallIsVertical=function(t,e){var i=this.getLeftBlock(t,e),o=this.getRightBlock(t,e),r=(this.getTopBlock(t,e),this.getBottomBlock(t,e)),s=n.WALL;return r===s&&i!==s&&o!==s||i!==s&&o!==s},t.prototype.wallIsLeftTop=function(t,e){return this.getRightBlock(t,e)===n.WALL&&this.getBottomBlock(t,e)===n.WALL&&!this.wallIsCross(t,e)},t.prototype.wallIsLeftBottom=function(t,e){return this.getRightBlock(t,e)===n.WALL&&this.getTopBlock(t,e)===n.WALL&&!this.wallIsCross(t,e)},t.prototype.wallIsRightTop=function(t,e){return this.getLeftBlock(t,e)===n.WALL&&this.getBottomBlock(t,e)===n.WALL&&!this.wallIsCross(t,e)},t.prototype.wallIsRightBottom=function(t,e){return this.getLeftBlock(t,e)===n.WALL&&this.getTopBlock(t,e)===n.WALL&&!this.wallIsCross(t,e)},t.prototype.wallIsCross=function(t,e){return this.getLeftBlock(t,e)===n.WALL&&this.getRightBlock(t,e)===n.WALL&&this.getTopBlock(t,e)===n.WALL&&this.getBottomBlock(t,e)===n.WALL},t.prototype.wallIsBifurcLeft=function(t,e){return!this.wallIsCross(t,e)&&this.getLeftBlock(t,e)===n.WALL&&this.getTopBlock(t,e)===n.WALL&&this.getBottomBlock(t,e)===n.WALL},t.prototype.wallIsBifurcBottom=function(t,e){return!this.wallIsCross(t,e)&&this.getBottomBlock(t,e)===n.WALL&&this.getLeftBlock(t,e)===n.WALL&&this.getRightBlock(t,e)===n.WALL},t.prototype.wallIsBifurcTop=function(t,e){return!this.wallIsCross(t,e)&&this.getTopBlock(t,e)===n.WALL&&this.getLeftBlock(t,e)===n.WALL&&this.getRightBlock(t,e)===n.WALL},t.prototype.wallIsBifurcRight=function(t,e){return!this.wallIsCross(t,e)&&this.getRightBlock(t,e)===n.WALL&&this.getTopBlock(t,e)===n.WALL&&this.getBottomBlock(t,e)===n.WALL},t.prototype.getRightBlock=function(t,e){var i=this.lengthX-1,o=t,n=e+1;return n>=0&&n<=i?this.matriz[o][n]:-1},t.prototype.getBottomBlock=function(t,e){var i=this.lengthY-1,o=t+1,n=e;return o>=0&&o<=i?this.matriz[o][n]:-1},t.prototype.getLeftBlock=function(t,e){var i=this.lengthX-1,o=t,n=e-1;return n>=0&&n<=i?this.matriz[o][n]:-1},t.prototype.getTopBlock=function(t,e){var i=this.lengthY-1,o=t-1,n=e;return o>=0&&o<=i?this.matriz[o][n]:-1},t.prototype.getLeftBottomBlock=function(t,e){var i=this.lengthX-1,o=t+1,n=e-1;return n>=0&&n<=i&&o>=0&&o<=i?this.matriz[o][n]:-1},t.prototype.getRightBottomBlock=function(t,e){var i=this.lengthY-1,o=t+1,n=e+1;return n>=0&&n<=i&&o>=0&&o<=i?this.matriz[o][n]:-1},t.prototype.getLeftTopBlock=function(t,e){var i=this.lengthX-1,o=t-1,n=e-1;return n>=0&&n<=i&&o>=0&&o<=i?this.matriz[o][n]:-1},t.prototype.getRightTopBlock=function(t,e){var i=this.lengthY-1,o=t-1,n=e+1;return n>=0&&n<=i&&o>=0&&o<=i?this.matriz[o][n]:-1},t.prototype.getBlockByIndexes=function(t,e){return this.matriz[t][e]},t.prototype.getBlockByCoordinates=function(t,e,i,o){var n=this.getIndexesByCoordinates(t,e,i,o);return this.matriz[n.i][n.j]},t.prototype.getIndexesByCoordinates=function(t,e,i,o){return i||(i=this.game.blockSize),o===r.DIRECTIONS.UP?e-=i:o===r.DIRECTIONS.LEFT&&(t-=i),{i:Math.max(Math.min(Math.floor(e/i)+(e%i>5?1:0),this.matriz.length-1),0),j:Math.max(Math.min(Math.floor(t/i)+(t%i>5?1:0),this.matriz[0].length-1),0)}},t.prototype.getPositionIByCoord=function(t,e){return e||(e=this.game.blockSize),Math.min(Math.floor(t/e)+(t%e>5?1:0),this.matriz.length-1)},t.prototype.getPositionJByCoord=function(t,e){return e||(e=this.game.blockSize),Math.min(Math.floor(t/e)+(t%e>5?1:0),this.matriz[0].length-1)},t.prototype.isCollidingWithWall=function(t,e,i,o){var r=this.getIndexesByCoordinates(t,e,i,o);return this.matriz[r.i][r.j]===n.WALL},t.prototype.pacCanGo=function(t,e,i,o){var r=this.getIndexesByCoordinates(t,e,i,o),s=this.matriz[r.i][r.j];return[n.WALL,n.GHOST_HOUSE].every(function(t){return s!==t})},t.prototype.xCoordinateIsEnd=function(t,e){var i=this.getIndexesByCoordinates(t,e,null,r.DIRECTIONS.RIGHT),o=this.matriz[i.i][i.j];return i.j>=this.matriz[0].length-1&&o!==n.PORTAL},t.prototype.xCoordinateIsBegin=function(t,e){var i=this.getIndexesByCoordinates(t,e,null,r.DIRECTIONS.LEFT),o=this.matriz[i.i][i.j];return i.j<=0&&o!==n.PORTAL},t.prototype.yCoordinateIsEnd=function(t,e){var i=this.getIndexesByCoordinates(0,t,e,r.DIRECTIONS.DOWN),o=this.matriz[i.i][i.j];return i.i>=this.matriz.length-1&&o!==n.PORTAL},t.prototype.yCoordinateIsBegin=function(t){return t<=0},t.prototype.biscuitGettedByCoordinates=function(t,e,i,o){if(this.getBlockByCoordinates(t,e,i,o)===n.BISCUIT){var r=e/i,s=t/i,a=this.getIndexesByCoordinates(t,e,i,o).i,h=this.getIndexesByCoordinates(t,e,i,o).j;if(a!==r||h!==s){var c=0;if(r===a)c=Math.abs(s-h);else{if(s!==h)return!1;c=Math.abs(r-a)}return c>=0&&c<=.5}}return!1},t.prototype.pillGettedByCoordinates=function(t,e,i,o){if(this.getBlockByCoordinates(t,e,i,o)===n.PILL){var r=e/i,s=t/i,a=this.getIndexesByCoordinates(t,e,i,o).i,h=this.getIndexesByCoordinates(t,e,i,o).j;if(a!==r||h!==s){var c=0;if(r===a)c=Math.abs(s-h);else{if(s!==h)return!1;c=Math.abs(r-a)}return c>=0&&c<=.5}}return!1},t.prototype.getRandomIndexesBlock=function(t,e,i){var o=this,n=s.Helper.randomInterval(0,this.lengthY-1),r=s.Helper.randomInterval(0,this.lengthX-1);for(e||(e=[]);!t.some(function(t){return o.matriz[n][r]===t})||e.some(function(t){return n===t.i&&r===t.j})&&this.checkInsideLimits(n,r,i);)n=s.Helper.randomInterval(0,this.lengthY-1),r=s.Helper.randomInterval(0,this.lengthX-1);return{i:n,j:r}},t.prototype.checkInsideLimits=function(t,e,i){return!!i&&(t>=i.i.begin&&t<=i.i.end&&e>=i.j.begin&&e<=i.j.end)},t.prototype.directionIsX=function(t){return t===r.DIRECTIONS.LEFT||t===r.DIRECTIONS.RIGHT},t.prototype.directionIsY=function(t){return t===r.DIRECTIONS.UP||t===r.DIRECTIONS.DOWN},t}();e.Map=a,function(t){t.VERTICAL="VERTICAL",t.VERTICAL_TOP="VERTICAL_TOP",t.VERTICAL_BOTTOM="VERTICAL_BOTTOM",t.HORIZONTAL="HORIZONTAL",t.HORIZONTAL_LEFT="HORIZONTAL_LEFT",t.HORIZONTAL_RIGHT="HORIZONTAL_RIGHT",t.CROSS="CROSS",t.LEFT_TOP="LEFT_TOP",t.LEFT_BOTTOM="LEFT_BOTTOM",t.RIGHT_TOP="RIGHT_TOP",t.RIGHT_BOTTOM="RIGHT_BOTTOM",t.BIFURC_TOP="BIFURC_TOP",t.BIFURC_BOTTOM="BIFURC_BOTTOM",t.BIFURC_LEFT="BIFURC_LEFT",t.BIFURC_RIGHT="BIFURC_RIGHT"}(o=e.WALL_DIRECTIONS||(e.WALL_DIRECTIONS={})),function(t){t[t.BISCUIT=0]="BISCUIT",t[t.WALL=1]="WALL",t[t.PILL=2]="PILL",t[t.GHOST_HOUSE=6]="GHOST_HOUSE",t[t.PORTAL_PATH=7]="PORTAL_PATH",t[t.PORTAL=8]="PORTAL",t[t.EMPTY=9]="EMPTY"}(n=e.BLOCK_TYPE||(e.BLOCK_TYPE={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.randomInterval=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.hasDecimal=function(t){return t-Math.floor(t)>0},t.getIntegerSide=function(t){return Math.floor(t)},t.getDecimalSide=function(t){return t-Math.floor(t)},t.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t}();e.Helper=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.NONE="NONE",t.LEFT="LEFT",t.RIGHT="RIGHT",t.UP="UP",t.DOWN="DOWN"}(e.DIRECTIONS||(e.DIRECTIONS={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n,r=i(1),s=i(2),a=i(0),h=i(7),c=function(){function t(t,e){this.size=0,this.blockSize=0,this.bornCoordX=null,this.bornCoordY=null,this.imagesPerState={WAITING:new Image,STOP_WAITING:new Image,HUNTING:new Image,STUNNED:new Image,STUNNED_BLINK:new Image,DEAD_GO_HOME:new Image,DEAD:new Image},this.x=0,this.y=0,this.toX=this.x,this.toY=this.y,this.direction=s.DIRECTIONS.NONE,this.state=n.WAITING,this.leaveWaitingTime=0,this.renderWaitingTime=0,this.stunningWaitingTime=0,this.stunningBlinkAtEndOf=0,this.howLongIsTheWait=0,this.destinationToGo=null,this.lastDestinationToGo=null,this.arrayDirectionsToGo=[],this.game=t,this.name=e,this.blockSize=this.game.blockSize,this.size=Math.floor(1.5*this.blockSize),this.bornCoordX=this.game.map.ghostBornCoords.x,this.bornCoordY=this.game.map.ghostBornCoords.y,this.bornCoordI={begin:this.bornCoordY.begin/this.blockSize,end:this.bornCoordY.end/this.blockSize},this.bornCoordJ={begin:this.bornCoordX.begin/this.blockSize,end:this.bornCoordX.end/this.blockSize},this.imagesPerState.WAITING.src="assets/img/ghosts/"+this.name+".png",this.imagesPerState.STOP_WAITING.src="assets/img/ghosts/"+this.name+".png",this.imagesPerState.HUNTING.src="assets/img/ghosts/"+this.name+".png",this.imagesPerState.STUNNED.src="assets/img/ghosts/"+this.name+"_stunned.png",this.imagesPerState.STUNNED_BLINK.src="assets/img/ghosts/"+this.name+".png",this.imagesPerState.DEAD_GO_HOME.src="assets/img/ghosts/ghost.svg#dead",this.imagesPerState.DEAD.src="assets/img/ghosts/ghost.svg#dead",this.leaveWaitingTime=5e3+4e3*(this.ghostNumber()-1),this.renderWaitingTime=4e3*(this.ghostNumber()-1),this.stunningWaitingTime=13e3,this.stunningBlinkAtEndOf=3e3,this.initialize()}return Object.defineProperty(t.prototype,"image",{get:function(){return this.imagesPerState[this.state]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffSize",{get:function(){return this.blockSize-this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftoverSize",{get:function(){return this.diffSize/2},enumerable:!0,configurable:!0}),t.prototype.ghostNumber=function(){return parseInt(this.name)},t.prototype.i=function(t){void 0===t&&(t=!1);var e=this.blockSize,i=this.y;t&&this.direction===s.DIRECTIONS.UP&&(i-=e);var o=Math.floor(i/e);return t&&i%e>5&&o++,Math.min(o,this.game.map.matriz.length-1)},t.prototype.j=function(t,e){void 0===t&&(t=!1);var i=this.blockSize,o=this.x;e||(e=this.direction),t&&this.direction===s.DIRECTIONS.LEFT&&(o-=i);var n=Math.floor(o/i);return t&&o%i>5&&n++,Math.min(n,this.game.map.matriz[0].length-1)},t.prototype.initialize=function(){var t=r.Helper.randomInterval(this.bornCoordI.begin,this.bornCoordI.end),e=r.Helper.randomInterval(this.bornCoordJ.begin,this.bornCoordJ.end);this.startWaiting(t,e)},t.prototype.startWaiting=function(t,e){h.isNullOrUndefined(t)&&(t=this.i()),h.isNullOrUndefined(e)&&(e=this.j()),this.state=n.WAITING,this.x=e*this.blockSize,this.y=t*this.blockSize,this.clearWalkCoordinates(),this.bornCoordI.begin!==this.bornCoordI.end?t>this.bornCoordI.begin?this.goToTheDirection(s.DIRECTIONS.UP):this.goToTheDirection(s.DIRECTIONS.DOWN):this.bornCoordJ.begin!==this.bornCoordJ.end&&(e>this.bornCoordJ.begin?this.goToTheDirection(s.DIRECTIONS.LEFT):this.goToTheDirection(s.DIRECTIONS.RIGHT))},t.prototype.render=function(){this.game.isRunning&&this.updateRenderWaitingTime(),this.canRender()&&(this.updateCoordinates(),this.game.context.drawImage(this.image,this.x+this.leftoverSize,this.y+this.leftoverSize,this.size,this.size))},t.prototype.canRender=function(){return this.state!==n.WAITING||this.howLongIsTheWait>=this.renderWaitingTime},t.prototype.updateCoordinates=function(){if(this.game.isRunning)switch(this.state){case n.WAITING:if((I=this.getNextCoordinates(o.NORMAL)).x!==this.x||I.y!==this.y)this.goToNextCoords(I.x,I.y);else if(this.howLongIsTheWait>=this.leaveWaitingTime)this.stopWaitingAndGoHunting();else{var t={x:{min:this.bornCoordJ.begin*this.blockSize,max:this.bornCoordJ.end*this.blockSize},y:{min:this.bornCoordI.begin*this.blockSize,max:this.bornCoordI.end*this.blockSize}};if(this.canGoInTheDirection(this.direction,this.x,this.y,t))this.goToTheDirection(this.direction);else{var e=this.getReverseDirection();if(this.canGoInTheDirection(e,this.x,this.y,t))this.goToTheDirection(e);else if(e=this.getReverseOrientation(),this.canGoInTheDirection(e,this.x,this.y,t))this.goToTheDirection(e);else{var i=this.getReverseDirection();this.canGoInTheDirection(i,this.x,this.y,t)&&this.goToTheDirection(i)}}}break;case n.STOP_WAITING:(I=this.getNextCoordinates(o.NORMAL)).x!==this.x||I.y!==this.y?this.goToNextCoords(I.x,I.y):this.goHunting();break;case n.HUNTING:var r=null,s=this.destinationToGo,h={i:this.game.pac.iFractioned,j:this.game.pac.jFractioned};if(!s||s.exact.i===h.i&&s.exact.j===h.j||(r=h),this.checkArriveTheDestination(!0,r))this.game.ghostFoundPac(this);else if((I=this.getNextCoordinates(o.NORMAL)).x!==this.x||I.y!==this.y)this.goToNextCoords(I.x,I.y);else{var c=this.game.pac.i(),l=this.game.pac.j(),u=this.game.pac.iFractioned,d=this.game.pac.jFractioned;this.executeGoToDestination(c,l,{i:u,j:d})}break;case n.STUNNED:case n.STUNNED_BLINK:var p=this.stunningWaitingTime-this.howLongIsTheWait;if(p>0&&p<=this.stunningBlinkAtEndOf?p!==this.stunningBlinkAtEndOf&&p%300!=0||(this.state=this.state===n.STUNNED?n.STUNNED_BLINK:n.STUNNED):this.state=n.STUNNED,(I=this.getNextCoordinates(o.NORMAL)).x!==this.x||I.y!==this.y)this.goToNextCoords(I.x,I.y);else{var f={i:this.game.pac.i(),j:this.game.pac.j()};if(this.howLongIsTheWait>=this.stunningWaitingTime)this.goHunting(),this.updateCoordinates();else if(this.checkCurrentDestinationToGoEquals(f.i,f.j)||this.checkArriveTheDestination()){var g=[{i:this.i(!0),j:this.j(!0)},{i:this.destinationToGo.i,j:this.destinationToGo.j}],m=this.createLimitThisPositions(f.i,f.j),T=this.game.map.getRandomIndexesBlock([a.BLOCK_TYPE.BISCUIT,a.BLOCK_TYPE.PILL],g,m);this.executeGoToDestination(T.i,T.j)}else this.executeGoToDestination(this.destinationToGo.i,this.destinationToGo.j)}break;case n.DEAD_GO_HOME:var I;(I=this.getNextCoordinates(o.FAST)).x!==this.x||I.y!==this.y?this.goToNextCoords(I.x,I.y):this.checkArriveTheDestination()?(this.howLongIsTheWait=this.renderWaitingTime,this.startWaiting()):this.executeGoToDestination(this.destinationToGo.i,this.destinationToGo.j);break;case n.DEAD:}},t.prototype.onPillGetted=function(){if(this.state===n.HUNTING){this.state=n.STUNNED,this.howLongIsTheWait=0,this.clearDestinationToGo();var t={i:this.game.pac.i(),j:this.game.pac.j()},e=[{i:this.i(),j:this.j()}],i=this.createLimitThisPositions(t.i,t.j),o=this.game.map.getRandomIndexesBlock([a.BLOCK_TYPE.BISCUIT,a.BLOCK_TYPE.PILL],e,i);this.destinationToGo={i:o.i,j:o.j,exact:{i:o.i,j:o.j}}}},t.prototype.goToHomeBecauseDead=function(){if(this.state===n.STUNNED||this.state===n.STUNNED_BLINK){this.state=n.DEAD_GO_HOME,this.howLongIsTheWait=0,this.clearDestinationToGo();var t=r.Helper.randomInterval(this.bornCoordI.begin,this.bornCoordI.end),e=r.Helper.randomInterval(this.bornCoordJ.begin,this.bornCoordJ.end);this.destinationToGo={i:t,j:e,exact:{i:t,j:e}}}},t.prototype.createLimitThisPositions=function(t,e){return{i:{begin:Math.max(t-10,0),end:Math.min(t+10,this.game.map.lengthY-1)},j:{begin:Math.max(e-10,0),end:Math.min(e+10,this.game.map.lengthX-1)}}},t.prototype.clearDestinationToGo=function(){this.lastDestinationToGo=null,this.destinationToGo=null},t.prototype.clearWalkCoordinates=function(){this.toX=this.x,this.toY=this.y},t.prototype.executeGoToDestination=function(t,e,i){if(!this.arrayDirectionsToGo.length||!this.lastDestinationToGo||this.lastDestinationToGo.i!==t||this.lastDestinationToGo.j!==e){var o=this.arrayDirectionsToGo.length?this.arrayDirectionsToGo[0]:this.direction;this.arrayDirectionsToGo=[],this.lastDestinationToGo=null,this.destinationToGo={i:t,j:e,exact:i},this.goToDestination(o)}if(this.arrayDirectionsToGo.length){var n=void 0;do{n=this.arrayDirectionsToGo[0],this.arrayDirectionsToGo=this.arrayDirectionsToGo.length?this.arrayDirectionsToGo.slice(1):[]}while(this.arrayDirectionsToGo.length&&!this.canGoInTheDirection(n));this.goToTheDirection(n),this.updateCoordinates()}},t.prototype.getNextCoordinates=function(t){var e=this.x,i=this.y;return this.x!==this.toX&&this.directionIsX()?(this.direction=this.x<this.toX?s.DIRECTIONS.RIGHT:s.DIRECTIONS.LEFT,e=this.game.applySmoothCoord(this.x,this.toX,t)):this.x!==this.toX&&this.y===this.toY?(this.direction=this.x<this.toX?s.DIRECTIONS.RIGHT:s.DIRECTIONS.LEFT,e=this.game.applySmoothCoord(this.x,this.toX,t)):this.y!==this.toY&&this.directionIsY()?(this.direction=this.y<this.toY?s.DIRECTIONS.DOWN:s.DIRECTIONS.UP,i=this.game.applySmoothCoord(this.y,this.toY,t)):this.y!==this.toY&&this.x===this.toX&&(this.direction=this.y<this.toY?s.DIRECTIONS.DOWN:s.DIRECTIONS.UP,i=this.game.applySmoothCoord(this.y,this.toY,t)),{x:e,y:i}},t.prototype.goToNextCoords=function(t,e){this.game.map.isCollidingWithWall(t,e,this.blockSize)?(this.x=Math.floor(this.j())*this.blockSize,this.y=Math.floor(this.i())*this.blockSize,this.clearWalkCoordinates()):(this.x=t,this.y=e)},t.prototype.goToTheDirection=function(t){this.direction=t,t===s.DIRECTIONS.UP?this.toY=this.y-this.blockSize:t===s.DIRECTIONS.DOWN?this.toY=this.y+this.blockSize:t===s.DIRECTIONS.LEFT?this.toX=this.x-this.blockSize:t===s.DIRECTIONS.RIGHT&&(this.toX=this.x+this.blockSize)},t.prototype.canGoInTheDirection=function(t,e,i,o){if(h.isNullOrUndefined(e)&&(e=this.x),h.isNullOrUndefined(i)&&(i=this.y),t===s.DIRECTIONS.UP?i-=this.blockSize:t===s.DIRECTIONS.DOWN?i+=this.blockSize:t===s.DIRECTIONS.LEFT?e-=this.blockSize:t===s.DIRECTIONS.RIGHT&&(e+=this.blockSize),o){if(e<o.x.min||e>o.x.max)return!1;if(i<o.y.min||i>o.y.max)return!1}var r=this.game.map.getBlockByCoordinates(e,i,this.blockSize);return this.state===n.HUNTING||this.state===n.STUNNED?r!==a.BLOCK_TYPE.WALL&&r!==a.BLOCK_TYPE.PORTAL&&r!==a.BLOCK_TYPE.PORTAL_PATH&&r!==a.BLOCK_TYPE.GHOST_HOUSE:this.state===n.DEAD_GO_HOME?r!==a.BLOCK_TYPE.WALL&&r!==a.BLOCK_TYPE.PORTAL&&r!==a.BLOCK_TYPE.PORTAL_PATH:r!==a.BLOCK_TYPE.WALL},t.prototype.stopWaitingAndGoHunting=function(){this.state=n.STOP_WAITING;for(var t=this.bornCoordI.begin;t<=this.bornCoordI.end;t=this.bornCoordI.end)for(var e=this.bornCoordJ.begin;e<=this.bornCoordJ.end;e++){var i=null,o=2;if(t===this.bornCoordI.begin&&this.game.map.getTopBlock(t,e)!==a.BLOCK_TYPE.WALL?(o*=-1,i=s.DIRECTIONS.UP):t===this.bornCoordI.end&&this.game.map.getBottomBlock(t,e)!==a.BLOCK_TYPE.WALL&&(i=s.DIRECTIONS.DOWN),i)return this.toX=e*this.blockSize,this.toY=(t+o)*this.blockSize,void(this.x!==this.toX?this.direction=this.x<this.toX?s.DIRECTIONS.RIGHT:s.DIRECTIONS.LEFT:this.direction=i)}for(e=this.bornCoordJ.begin;e<=this.bornCoordJ.end;e=this.bornCoordJ.end)for(t=this.bornCoordI.begin;t<=this.bornCoordI.end;t++){i=null,o=2;if(e===this.bornCoordJ.begin&&this.game.map.getLeftBlock(t,e)!==a.BLOCK_TYPE.WALL?(i=s.DIRECTIONS.LEFT,o*=-1):e===this.bornCoordJ.end&&this.game.map.getRightBlock(t,e)!==a.BLOCK_TYPE.WALL&&(i=s.DIRECTIONS.RIGHT),i)return this.toX=(e+o)*this.blockSize,this.toY=t*this.blockSize,void(this.y!==this.toY?this.direction=this.y<this.toY?s.DIRECTIONS.RIGHT:s.DIRECTIONS.LEFT:this.direction=i)}},t.prototype.checkArriveTheDestination=function(t,e){if(void 0===t&&(t=!1),this.destinationToGo||e){if(t){var i=0,o=(this.y+this.leftoverSize)/this.blockSize,n=(this.x+this.leftoverSize)/this.blockSize,r=void 0,s=(r=e||(this.destinationToGo.exact?this.destinationToGo.exact:this.destinationToGo)).i,a=r.j;if(o!==s||n!==a){if(o!==s&&n!==a&&(this.directionIsX(this.direction)?o=this.y/this.blockSize:n=this.x/this.blockSize,o!==s&&n!==a))return!1;if(s===o)i=Math.abs(a-n);else{if(a!==n)return!1;i=Math.abs(s-o)}return i>=0&&i<=.8}return!0}return(r=e||this.destinationToGo).i===this.i()&&r.j===this.j()}return!1},t.prototype.checkCurrentDestinationToGoEquals=function(t,e){return!!this.destinationToGo&&(this.destinationToGo.i===t&&this.destinationToGo.j===e)},t.prototype.goToDestination=function(t){var e=this;if(this.destinationToGo&&this.destinationToGo.i&&this.destinationToGo.j){if(this.checkCurrentDestinationToGoEquals(this.i(),this.j()))return;this.lastDestinationToGo=this.destinationToGo;var i=this.lastDestinationToGo,o=i.j*this.blockSize,a=i.i*this.blockSize,h=this.x,c=this.y,l=Math.abs(h-o),u=Math.abs(c-a),d=o<h?s.DIRECTIONS.LEFT:s.DIRECTIONS.RIGHT,p=a<c?s.DIRECTIONS.UP:s.DIRECTIONS.DOWN,f=t||null;t||(f=r.Helper.randomInterval(1,999)%2>0?l>u?d:p:l>u?p:d);var g=[],m=this.game.map.lengthY-1,T=this.game.map.lengthX-1,I=function(t,i){return(e.directionIsY(t)?t:i)===s.DIRECTIONS.UP?-1:1},y=function(t,i){return(e.directionIsX(t)?t:i)===s.DIRECTIONS.LEFT?-1:1},b=function(t){return!!g.length&&e.getReverseDirection(t)===g[g.length-1]};t:for(var O=this.i(!0);O>=0&&O<=m;O+=I(f,p))for(var v=this.j(!0);v>=0&&v<=T;v+=y(f,d))for(var C=1;C<=5;C++){if(!(C<=4))break t;if(this.canGoInTheDirection(f,h,c)){g.push(f);var E=f;if(this.directionIsX(f)?h+=this.blockSize*(f===s.DIRECTIONS.LEFT?-1:1):c+=this.blockSize*(f===s.DIRECTIONS.UP?-1:1),l=Math.abs(h-o),u=Math.abs(c-a),l>0||u>0){d=o<h?s.DIRECTIONS.LEFT:s.DIRECTIONS.RIGHT,p=a<c?s.DIRECTIONS.UP:s.DIRECTIONS.DOWN,b(f=this.state!==n.DEAD_GO_HOME?r.Helper.randomInterval(1,999)%2>0?l>u?d:p:l>u?p:d:0===l?p:0===u?d:l>u?d:p)&&(f=this.directionIsX(f)?p:d),E===f&&f!==d&&f!==p&&(f=this.directionIsX(f)?p:d);break}break t}C%2!=0?b(f=this.directionIsX(f)?p:d)&&(f=this.getReverseDirection(f)):f=b(this.getReverseDirection(f))?this.directionIsX(f)?p:d:this.getReverseDirection(f)}this.arrayDirectionsToGo=g}},t.prototype.goHunting=function(){this.state=n.HUNTING,this.clearDestinationToGo()},t.prototype.updateRenderWaitingTime=function(){this.howLongIsTheWait+=this.game.timeToRerender},t.prototype.directionIsX=function(t){return t||(t=this.direction),t===s.DIRECTIONS.LEFT||t===s.DIRECTIONS.RIGHT},t.prototype.directionIsY=function(t){return t||(t=this.direction),t===s.DIRECTIONS.UP||t===s.DIRECTIONS.DOWN},t.prototype.getReverseDirection=function(t){return t||(t=this.direction),t===s.DIRECTIONS.UP?s.DIRECTIONS.DOWN:t===s.DIRECTIONS.DOWN?s.DIRECTIONS.UP:t===s.DIRECTIONS.LEFT?s.DIRECTIONS.RIGHT:t===s.DIRECTIONS.RIGHT?s.DIRECTIONS.LEFT:s.DIRECTIONS.NONE},t.prototype.getReverseOrientation=function(t){return t||(t=this.direction),t===s.DIRECTIONS.UP?s.DIRECTIONS.LEFT:t===s.DIRECTIONS.DOWN?s.DIRECTIONS.RIGHT:t===s.DIRECTIONS.LEFT?s.DIRECTIONS.UP:t===s.DIRECTIONS.RIGHT?s.DIRECTIONS.DOWN:s.DIRECTIONS.NONE},t}();e.Ghost=c,function(t){t[t.NORMAL=2]="NORMAL",t[t.FAST=2.5]="FAST",t[t.SLOW=1.5]="SLOW"}(o=e.SPEED||(e.SPEED={})),function(t){t.WAITING="WAITING",t.STOP_WAITING="STOP_WAITING",t.HUNTING="HUNTING",t.STUNNED="STUNNED",t.STUNNED_BLINK="STUNNED_BLINK",t.DEAD_GO_HOME="DEAD_GO_HOME",t.DEAD="DEAD"}(n=e.STATES||(e.STATES={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n,r=i(0),s=i(5),a=i(6),h=i(3),c=i(1),l=i(2),u=function(){function t(){this.blockSize=26,this.moveRate=5,this.timeToRerender=30,this.enableTouchControlToDesktop=!1,this.colors={background:n.DARK,pac:n.GOLD,wall:n.BLUE,biscuit:n.GOLD},this.coinImg=new Image,this.isStarted=!1,this.coinImg.src="assets/img/sb-coin.svg",this.state=o.STOPPED}return Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.state===o.RUNNING},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=this;void 0===t&&(t=!1),this.map=new r.Map(this),this.pac=new s.Pac(this),this.user=new a.User(this),this.ghosts=[new h.Ghost(this,"01"),new h.Ghost(this,"02"),new h.Ghost(this,"03"),new h.Ghost(this,"04")],this.width=this.map.lengthX*this.blockSize,this.height=this.map.lengthY*this.blockSize,this.isStarted||(this.createCanvas(),this.makeListeners()),t?setTimeout(function(){return e.state=o.RUNNING},500):(this.user.showStartGameWindow(),this.state=o.STOPPED),this.runGameLoop(),this.loop=setInterval(this.runGameLoop.bind(this),this.timeToRerender),this.isStarted=!0},t.prototype.restart=function(){clearInterval(this.loop),this.closeAllOpenedWindows(),this.start(!0)},t.prototype.resume=function(t){var e=this;void 0===t&&(t=!1),t?this.restart():(this.closeAllOpenedWindows(),setTimeout(function(){return e.state=o.RUNNING},500))},t.prototype.stop=function(){this.state=o.STOPPED},t.prototype.createCanvas=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor=this.colors.background,document.body.style.backgroundColor=this.colors.background,document.body.prepend(this.canvas),this.defineSizeVarsStyle(),this.createTitle(),this.createFooter(),this.createMobileControl(),this.context=this.canvas.getContext("2d")},t.prototype.defineSizeVarsStyle=function(){document.documentElement.style.setProperty("--canvas-width",this.width+"px"),document.documentElement.style.setProperty("--canvas-height",this.height+"px"),document.documentElement.style.setProperty("--window-width",this.width-100+"px"),document.documentElement.style.setProperty("--game-dark",n.DARK),document.documentElement.style.setProperty("--game-blue",n.BLUE),document.documentElement.style.setProperty("--game-gold",n.GOLD)},t.prototype.createTitle=function(){var t='<div class="title" style="max-width: '+this.width+'px"><h2 style="color: '+this.colors.biscuit+'">PAC-COIN</h2><h6 style="color: #FFF">Catch the coins!</h6></div>';this.canvas.insertAdjacentHTML("beforebegin",t)},t.prototype.createFooter=function(){var t='\n        <div class="footer" style="max-width: '+this.width+'px">\n            <p>Criado por Eric Andrade Ferreira</p>\n            <p>\n                Código fonte no \n                <a href="https://github.com/ericferreira1992/pac-coin" target="_blank">\n                    Github\n                </a>\n            </p>\n        </div>';this.canvas.insertAdjacentHTML("afterend",t)},t.prototype.createMobileControl=function(){var t=this;if(this.enableTouchControlToDesktop||c.Helper.isMobileDevice()){this.canvas.insertAdjacentHTML("afterend",'\n        <div class="mobile-control">\n            <div id="mobile-control-move"></div>\n        </div>');var e=document.getElementById("mobile-control-move"),i=e.getBoundingClientRect().left,o=e.getBoundingClientRect().top,n=l.DIRECTIONS.NONE,r="NONE",s=function(s){var a=s instanceof TouchEvent?s.touches[0]:s;if("NONE"!==r)return s.cancelBubble=!0,s.preventDefault(),!1;i=a.pageX,o=a.pageY,r="START",e.style.transition="",setInterval(function(){n!==l.DIRECTIONS.NONE&&t.pac.onKeydown({keyCode:t.pac.getCodeByDirection(n)})},t.timeToRerender)},a=function(t){var s=t instanceof TouchEvent?t.touches[0]:t;if("START"===r||"MOVING"===r){r="MOVING";var a=l.DIRECTIONS.NONE,h=l.DIRECTIONS.NONE,c=l.DIRECTIONS.NONE,u=0,d=0,p=s.pageX,f=s.pageY;p>i?(u=Math.min(p-i,150),e.style.left="calc(50% + "+u+"px)",u>=10&&(h=l.DIRECTIONS.RIGHT)):(u=Math.min(i-p,150),e.style.left="calc(50% - "+u+"px)",u>=10&&(h=l.DIRECTIONS.LEFT)),f>o?(d=Math.min(f-o,150),e.style.top="calc(50% + "+d+"px)",d>=10&&(c=l.DIRECTIONS.DOWN)):(d=Math.min(o-f,150),e.style.top="calc(50% - "+d+"px)",d>=10&&(c=l.DIRECTIONS.UP)),a=u>=10||d>=10?u>d?h:c:l.DIRECTIONS.NONE,n=a}return t.preventDefault(),!1},h=function(){r="NONE",e.style.transition="all .2s",e.style.left="50%",e.style.top="50%"};c.Helper.isMobileDevice()?(document.body.ontouchstart=s.bind(this),document.body.ontouchmove=a.bind(this),document.body.ontouchend=h.bind(this)):this.enableTouchControlToDesktop&&(document.body.onmousedown=s.bind(this),document.body.onmousemove=a.bind(this),document.body.onmouseup=h.bind(this))}},t.prototype.makeListeners=function(){var t=this;document.onkeydown=function(e){t.pac.onKeydown(e)}},t.prototype.runGameLoop=function(){this.context.beginPath(),this.context.clearRect(0,0,this.width,this.height),this.map.render(),this.pac.render(),this.ghosts.forEach(function(t){t.render()})},t.prototype.ghostFoundPac=function(t){this.state=o.GHOST_FOUND_PAC,this.showLooseWindow()},t.prototype.showLooseWindow=function(){this.user.showLooseWindow()},t.prototype.closeLooseWindow=function(){this.user.closeLooseWindow()},t.prototype.showHowToPlayWindow=function(){this.user.showHowToPlayWindow()},t.prototype.closeHowToPlayWindow=function(){this.user.closeHowToPlayWindow()},t.prototype.closeAllOpenedWindows=function(){this.user.closeAllOpenedWindows()},t.prototype.pacFoundStunnedGhost=function(t){t.goToHomeBecauseDead()},t.prototype.onPacGettedPill=function(){this.ghosts.forEach(function(t){t.onPillGetted()})},t.prototype.applySmoothCoord=function(t,e,i){var o=i||2.5;if(t!==e){var n=t+(t<e?o:-o);return t<e&&n>e?e:t>e&&n<e?e:n}return t},t}();e.PacCoin=u,function(t){t.STOPPED="STOPPED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.GHOST_FOUND_PAC="GHOST_FOUND_PAC",t.WIN="WIN",t.GAME_OVER="GAME_OVER"}(o=e.GAME_STATE||(e.GAME_STATE={})),function(t){t.DARK="#424242",t.GOLD="#FACD00",t.BLUE="#00C8ba"}(n=e.COLOR||(e.COLOR={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),n=i(3),r=i(0),s=i(7),a=function(){function t(t){this.capImage={LEFT:{img:new Image,rateX:-.15,rateY:.2},RIGHT:{img:new Image,rateX:.15,rateY:.2},UP:{img:new Image,rateX:.2,rateY:-.15},DOWN:{img:new Image,rateX:.2,rateY:.15}},this.imageUrl="assets/img/sb-icon.svg",this.size=0,this.x=0,this.y=0,this.toX=this.x,this.toY=this.y,this.directionAfterEnd=null,this.direction=o.DIRECTIONS.NONE,this.enteringPortal=!1,this.enteringPortalEnding=!1,this.game=t,this.size=this.game.blockSize,this.x=this.game.map.pacBornCoords.x,this.y=this.game.map.pacBornCoords.y,this.toX=this.x,this.toY=this.y,this.capImage.LEFT.img.src="assets/img/cap.svg#left",this.capImage.RIGHT.img.src="assets/img/cap.svg#right",this.capImage.UP.img.src="assets/img/cap.svg#up",this.capImage.DOWN.img.src="assets/img/cap.svg#down"}return t.prototype.i=function(t){void 0===t&&(t=!1);var e=this.size,i=this.y;t&&this.direction===o.DIRECTIONS.UP&&(i-=e);var n=Math.floor(i/e)+((t&&i%e)>5?1:0);return Math.min(n,this.game.map.matriz.length-1)},t.prototype.j=function(t){void 0===t&&(t=!1);var e=this.size,i=this.x;t&&this.direction===o.DIRECTIONS.LEFT&&(i-=e);var n=Math.floor(i/e)+((t&&i%e)>5?1:0);return Math.min(n,this.game.map.matriz[0].length-1)},Object.defineProperty(t.prototype,"iFractioned",{get:function(){return this.y/this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"jFractioned",{get:function(){return this.x/this.size},enumerable:!0,configurable:!0}),t.prototype.moveX=function(t){if(t!==this.direction&&t!==this.directionAfterEnd){var e=this.direction!==o.DIRECTIONS.LEFT&&this.direction!==o.DIRECTIONS.RIGHT,i=(this.direction===o.DIRECTIONS.LEFT||this.direction===o.DIRECTIONS.RIGHT)&&this.direction!==t,n=this.direction;if(e)return void(this.directionAfterEnd=t);this.directionAfterEnd=null,this.direction=t,i&&this.x!==this.toX&&(n===o.DIRECTIONS.LEFT?this.toX=(Math.floor(this.toX/this.size)+1)*this.size:this.toX=(Math.floor(this.toX/this.size)-1)*this.size)}},t.prototype.moveY=function(t){if(t!==this.direction&&t!==this.directionAfterEnd){var e=this.direction!==o.DIRECTIONS.UP&&this.direction!==o.DIRECTIONS.DOWN,i=(this.direction===o.DIRECTIONS.DOWN||this.direction===o.DIRECTIONS.UP)&&this.direction!==t,n=this.direction;if(e)return void(this.directionAfterEnd=t);this.directionAfterEnd=null,this.direction=t,i&&this.y!==this.toY&&(n===o.DIRECTIONS.UP?this.toY=(Math.floor(this.toY/this.size)+1)*this.size:this.toY=(Math.floor(this.toY/this.size)-1)*this.size)}},t.prototype.getDirectionByCode=function(t){switch(t){case 37:return o.DIRECTIONS.LEFT;case 38:return o.DIRECTIONS.UP;case 39:return o.DIRECTIONS.RIGHT;case 40:return o.DIRECTIONS.DOWN;default:return"NONE"}},t.prototype.getCodeByDirection=function(t){switch(t){case o.DIRECTIONS.LEFT:return 37;case o.DIRECTIONS.UP:return 38;case o.DIRECTIONS.RIGHT:return 39;case o.DIRECTIONS.DOWN:return 40;default:return 0}},t.prototype.directionIsX=function(t){return t||(t=this.direction),t===o.DIRECTIONS.LEFT||t===o.DIRECTIONS.RIGHT},t.prototype.directionIsY=function(t){return t||(t=this.direction),t===o.DIRECTIONS.UP||t===o.DIRECTIONS.DOWN},t.prototype.onKeydown=function(t){this.game.isRunning&&[37,38,39,40].indexOf(t.keyCode)>=0&&!this.enteringPortal&&(38===t.keyCode?this.moveY(o.DIRECTIONS.UP):40===t.keyCode?this.moveY(o.DIRECTIONS.DOWN):37===t.keyCode?this.moveX(o.DIRECTIONS.LEFT):39===t.keyCode&&this.moveX(o.DIRECTIONS.RIGHT))},t.prototype.render=function(){this.updateCoordinates(),this.renderPac(),this.renderCap(),this.checkPacFoundGhostStunned()},t.prototype.renderPac=function(){var t=this.calcAngle();this.game.context.beginPath(),this.game.context.moveTo(this.x+this.size/2,this.y+this.size/2),this.game.context.fillStyle=this.game.colors.pac,this.game.context.arc(this.x+this.size/2,this.y+this.size/2,this.size/2,Math.PI*t.start,Math.PI*t.end,t.direction),this.game.context.fill()},t.prototype.renderCap=function(){var t=this.direction===o.DIRECTIONS.NONE?o.DIRECTIONS.LEFT:this.direction,e=this.capImage[t].img,i=this.x-this.size*this.capImage[t].rateX,n=this.y-this.size*this.capImage[t].rateY;this.game.context.drawImage(e,i,n,Math.floor(this.size),Math.floor(this.size))},t.prototype.checkPacFoundGhostStunned=function(){if(this.game.isRunning)for(var t=this.y/this.size,e=this.x/this.size,i=0,o=this.game.ghosts.filter(function(t){return t.state===n.STATES.STUNNED||t.state===n.STATES.STUNNED_BLINK});i<o.length;i++){var r=o[i],s=0,a=(r.y+r.leftoverSize)/r.blockSize,h=(r.x+r.leftoverSize)/r.blockSize;if(t!==a||e!==h){if(t!==a&&e!==h&&(this.directionIsX(r.direction)?a=r.y/r.blockSize:h=r.x/r.blockSize,t!==a&&e!==h))continue;if(a===t)s=Math.abs(h-e);else{if(h!==e)continue;s=Math.abs(a-t)}s>=0&&s<=.8&&this.game.pacFoundStunnedGhost(r)}}},t.prototype.stopMovimentX=function(t){t===this.direction&&(this.toX=Math.max(Math.min(Math.floor(this.j(this.direction===o.DIRECTIONS.RIGHT))*this.size,this.game.width-this.size),0))},t.prototype.stopMovimentY=function(t){t===this.direction&&(this.toY=Math.max(Math.min(Math.floor(this.i(this.direction===o.DIRECTIONS.DOWN))*this.size,this.game.height-this.size),0))},t.prototype.updateCoordinates=function(){if(this.game.isRunning){var t=this.game.applySmoothCoord(this.x,this.toX),e=this.game.applySmoothCoord(this.y,this.toY);this.enteringPortal||(this.directionIsX()?this.enteringPortal=this.direction===o.DIRECTIONS.LEFT?t<0:t+this.size>this.game.width:this.directionIsY()&&(this.enteringPortal=this.direction===o.DIRECTIONS.UP?e<0:e+this.size>this.game.height)),this.enteringPortal?t===this.x&&e===this.y||(this.x=t,this.y=e,this.x===this.toX&&this.y===this.toY&&(this.enteringPortalEnding?(this.enteringPortal=!1,this.enteringPortalEnding=!1):(this.enteringPortalEnding=!0,this.direction===o.DIRECTIONS.RIGHT?(this.x=-this.size,this.toX=0):this.direction===o.DIRECTIONS.LEFT?(this.x=this.game.width,this.toX=this.game.width-this.size):this.direction===o.DIRECTIONS.DOWN?(this.y=-this.size,this.toY=0):this.direction===o.DIRECTIONS.UP&&(this.y=this.game.height,this.toY=this.game.height-this.size)))):t!==this.x||e!==this.y?this.game.map.pacCanGo(t,e,this.size)?(this.x=t,this.y=e,this.checkColisions()):(this.x=this.j(this.direction===o.DIRECTIONS.LEFT)*this.size,this.y=this.i(this.direction===o.DIRECTIONS.UP)*this.size,this.toX=this.x,this.toY=this.y):(this.directionAfterEnd&&this.canGoInTheDirection(this.directionAfterEnd)&&(this.direction=this.directionAfterEnd),this.canGoInTheDirection(this.direction)&&(this.goToTheDirection(this.direction),this.updateCoordinates()))}},t.prototype.goToTheDirection=function(t){this.direction=t,t===o.DIRECTIONS.UP?this.toY=this.y-this.size:t===o.DIRECTIONS.DOWN?this.toY=this.y+this.size:t===o.DIRECTIONS.LEFT?this.toX=this.x-this.size:t===o.DIRECTIONS.RIGHT&&(this.toX=this.x+this.size)},t.prototype.canGoInTheDirection=function(t,e,i,n){if(t!==o.DIRECTIONS.NONE){s.isNullOrUndefined(e)&&(e=this.x),s.isNullOrUndefined(i)&&(i=this.y),t===o.DIRECTIONS.UP?i-=this.size:t===o.DIRECTIONS.DOWN?i+=this.size:t===o.DIRECTIONS.LEFT?e-=this.size:t===o.DIRECTIONS.RIGHT&&(e+=this.size);var a=this.game.map.getBlockByCoordinates(e,i,this.size);return[r.BLOCK_TYPE.WALL,r.BLOCK_TYPE.GHOST_HOUSE].every(function(t){return a!==t})}return!1},t.prototype.checkColisions=function(){var t=this.game.map.getIndexesByCoordinates(this.x,this.y,this.size,this.direction);this.game.map.biscuitGettedByCoordinates(this.x,this.y,this.size,this.direction)?this.game.user.setBiscuitGetted(t.i,t.j):this.game.map.pillGettedByCoordinates(this.x,this.y,this.size,this.direction)&&this.game.user.setPillGetted(t.i,t.j)},t.prototype.calcAngle=function(){return this.direction===o.DIRECTIONS.RIGHT&&(this.x%10<5||this.x==this.toX)?{start:.25,end:1.75,direction:!1}:this.direction===o.DIRECTIONS.DOWN&&(this.y%10<5||this.y==this.toY)?{start:.75,end:2.25,direction:!1}:this.direction===o.DIRECTIONS.UP&&(this.y%10<5||this.y==this.toY)?{start:1.25,end:1.75,direction:!0}:this.direction===o.DIRECTIONS.LEFT&&(this.x%10<5||this.x==this.toX)?{start:.75,end:1.25,direction:!0}:{start:0,end:2,direction:!1}},t}();e.Pac=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),n=i(0),r=function(){function t(t){this.game=t,this.reset()}return t.prototype.reset=function(){this.biscuitsGettedCoords=[],this.pillsGettedCoords=[]},t.prototype.setBiscuitGetted=function(t,e){this.biscuitIsGetted(t,e)||(this.biscuitsGettedCoords.push({i:t,j:e}),this.updateScores())},t.prototype.setPillGetted=function(t,e){this.pillIsGetted(t,e)||(this.pillsGettedCoords.push({i:t,j:e}),this.game.onPacGettedPill(),this.updateScores())},t.prototype.biscuitIsGetted=function(t,e){for(var i=!1,o=0,n=this.biscuitsGettedCoords;o<n.length;o++){var r=n[o];if(r.i===t&&r.j===e){i=!0;break}}return i},t.prototype.pillIsGetted=function(t,e){for(var i=!1,o=0,n=this.pillsGettedCoords;o<n.length;o++){var r=n[o];if(r.i===t&&r.j===e){i=!0;break}}return i},t.prototype.createWindowElement=function(t){var e=document.createElement("div");return e.id=t,e.className="suspended-window animated fadeIn",e},t.prototype.removeWindowElement=function(t){var e=document.getElementById(t);e&&(e.classList.remove("fadeIn"),e.classList.add("fadeOut"),setTimeout(function(){return e.remove()},500))},t.prototype.showLooseWindow=function(){var t=this.createWindowElement("lose-window");t.innerHTML='\n            <section class="animated flipInX">\n                <h4>Você perdeu!</h4>\n\n                <p>\n                    Você não conseguiu pegar todas as coins<br/>\n                    antes que os fantasmas lhe pegassem.\n                </p>\n\n                <button class="yellow" onclick="game.showHowToPlayWindow()">\n                    Botões do jogo\n                </button>\n\n                <button onclick="game.restart()">\n                    Jogar novamente!\n                </button>\n            </section>\n        ',document.body.prepend(t)},t.prototype.closeLooseWindow=function(){this.removeWindowElement("lose-window")},t.prototype.showStartGameWindow=function(){var t=this.createWindowElement("start-game-window");t.innerHTML='\n            <section class="animated zoomIn">\n                <h1>Pac-coin</h1>\n\n                <p>\n                    Fuja dos fantasmas e pegue todas as <i>coins</i><br/>\n                    que encontrar pelo caminho.\n                </p>\n\n                <button class="yellow" onclick="game.showHowToPlayWindow()">\n                    Botões do jogo\n                </button>\n\n                <button onclick="game.resume()">\n                    Jogar\n                </button>\n            </section>\n        ',document.body.prepend(t)},t.prototype.closeStartGameWindow=function(){this.removeWindowElement("start-game-window")},t.prototype.showWinGameWindow=function(){var t=this.createWindowElement("start-game-window");t.innerHTML='\n            <section class="animated flipInX">\n                <h1>Você ganhou!!</h1>\n\n                <p>\n                    Parabéns! Você pegou todas as coins antes mesmo\n                    que os fantasmas o pegassem.\n                </p>\n\n                <button onclick="game.restart()">\n                    Jogar novamente\n                </button>\n            </section>\n        ',document.body.prepend(t)},t.prototype.closeWinGameWindow=function(){this.removeWindowElement("start-game-window")},t.prototype.showHowToPlayWindow=function(){this.closeAllOpenedWindows();var t=this.createWindowElement("how-to-play-window"),e="";e=this.game.state===o.GAME_STATE.GHOST_FOUND_PAC?'\n            <button onclick="game.restart()">\n                Jogar novamente\n            </button>':'\n            <button onclick="game.resume()">\n                Jogar\n            </button>',t.innerHTML='\n            <section class="animated zoomIn">\n                <h4>Botões do jogo</h4>\n\n                <ul>\n                    <li>\n                        <i class="key key-up"></i>\n                        <span>Move para <strong>CIMA</strong></span>\n                    </li>\n                    <li>\n                        <i class="key key-down"></i>\n                        <span>Move para <strong>BAIXO</strong></span>\n                    </li>\n                    <li>\n                        <i class="key key-left"></i>\n                        <span>Move para <strong>ESQUERDA</strong></span>\n                    </li>\n                    <li>\n                        <i class="key key-right"></i>\n                        <span>Move para <strong>DIREITA</strong></span>\n                    </li>\n                </ul>\n\n                '+e+"\n            </section>\n        ",document.body.prepend(t)},t.prototype.closeHowToPlayWindow=function(){this.removeWindowElement("how-to-play-window")},t.prototype.closeAllOpenedWindows=function(){this.closeLooseWindow(),this.closeStartGameWindow(),this.closeHowToPlayWindow()},t.prototype.gettedAllBiscuitsAndPills=function(){var t=this,e=this.game.map.matriz.map(function(e,i){return t.game.map.matriz[i].filter(function(t){return t===n.BLOCK_TYPE.BISCUIT}).length}).reduce(function(t,e){return t+e},0),i=this.game.map.matriz.map(function(e,i){return t.game.map.matriz[i].filter(function(t){return t===n.BLOCK_TYPE.PILL}).length}).reduce(function(t,e){return t+e},0);return e===this.biscuitsGetted&&i===this.pillsGetted},t.prototype.updateScores=function(){this.biscuitsGetted=this.biscuitsGettedCoords.length,this.pillsGetted=this.pillsGettedCoords.length,this.gettedAllBiscuitsAndPills()&&(this.game.stop(),this.showWinGameWindow())},t}();e.User=r},function(t,e,i){(function(t){var o=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},o=0;o<e.length;o++)i[e[o]]=Object.getOwnPropertyDescriptor(t,e[o]);return i},n=/%[sdj%]/g;e.format=function(t){if(!T(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(a(arguments[i]));return e.join(" ")}i=1;for(var o=arguments,r=o.length,s=String(t).replace(n,function(t){if("%%"===t)return"%";if(i>=r)return t;switch(t){case"%s":return String(o[i++]);case"%d":return Number(o[i++]);case"%j":try{return JSON.stringify(o[i++])}catch(t){return"[Circular]"}default:return t}}),h=o[i];i<r;h=o[++i])g(h)||!b(h)?s+=" "+h:s+=" "+a(h);return s},e.deprecate=function(i,o){if(void 0!==t&&!0===t.noDeprecation)return i;if(void 0===t)return function(){return e.deprecate(i,o).apply(this,arguments)};var n=!1;return function(){if(!n){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),n=!0}return i.apply(this,arguments)}};var r,s={};function a(t,i){var o={seen:[],stylize:c};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),f(i)?o.showHidden=i:i&&e._extend(o,i),I(o.showHidden)&&(o.showHidden=!1),I(o.depth)&&(o.depth=2),I(o.colors)&&(o.colors=!1),I(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=h),l(o,t,o.depth)}function h(t,e){var i=a.styles[e];return i?"["+a.colors[i][0]+"m"+t+"["+a.colors[i][1]+"m":t}function c(t,e){return t}function l(t,i,o){if(t.customInspect&&i&&C(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var n=i.inspect(o,t);return T(n)||(n=l(t,n,o)),n}var r=function(t,e){if(I(e))return t.stylize("undefined","undefined");if(T(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}if(m(e))return t.stylize(""+e,"number");if(f(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,i);if(r)return r;var s=Object.keys(i),a=function(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(i)),v(i)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(i);if(0===s.length){if(C(i)){var h=i.name?": "+i.name:"";return t.stylize("[Function"+h+"]","special")}if(y(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(O(i))return t.stylize(Date.prototype.toString.call(i),"date");if(v(i))return u(i)}var c,b="",E=!1,S=["{","}"];(p(i)&&(E=!0,S=["[","]"]),C(i))&&(b=" [Function"+(i.name?": "+i.name:"")+"]");return y(i)&&(b=" "+RegExp.prototype.toString.call(i)),O(i)&&(b=" "+Date.prototype.toUTCString.call(i)),v(i)&&(b=" "+u(i)),0!==s.length||E&&0!=i.length?o<0?y(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special"):(t.seen.push(i),c=E?function(t,e,i,o,n){for(var r=[],s=0,a=e.length;s<a;++s)R(e,String(s))?r.push(d(t,e,i,o,String(s),!0)):r.push("");return n.forEach(function(n){n.match(/^\d+$/)||r.push(d(t,e,i,o,n,!0))}),r}(t,i,o,a,s):s.map(function(e){return d(t,i,o,a,e,E)}),t.seen.pop(),function(t,e,i){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1];return i[0]+e+" "+t.join(", ")+" "+i[1]}(c,b,S)):S[0]+b+S[1]}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,i,o,n,r){var s,a,h;if((h=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]}).get?a=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(a=t.stylize("[Setter]","special")),R(o,n)||(s="["+n+"]"),a||(t.seen.indexOf(h.value)<0?(a=g(i)?l(t,h.value,null):l(t,h.value,i-1)).indexOf("\n")>-1&&(a=r?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),I(s)){if(r&&n.match(/^\d+$/))return a;(s=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function T(t){return"string"==typeof t}function I(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===E(t)}function b(t){return"object"==typeof t&&null!==t}function O(t){return b(t)&&"[object Date]"===E(t)}function v(t){return b(t)&&("[object Error]"===E(t)||t instanceof Error)}function C(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(i){if(I(r)&&(r=t.env.NODE_DEBUG||""),i=i.toUpperCase(),!s[i])if(new RegExp("\\b"+i+"\\b","i").test(r)){var o=t.pid;s[i]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",i,o,t)}}else s[i]=function(){};return s[i]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=f,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=T,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=I,e.isRegExp=y,e.isObject=b,e.isDate=O,e.isError=v,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=i(10);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,i;console.log("%s - %s",(t=new Date,i=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),N[t.getMonth()],i].join(" ")),e.format.apply(e,arguments))},e.inherits=i(11),e._extend=function(t,e){if(!e||!b(e))return t;for(var i=Object.keys(e),o=i.length;o--;)t[i[o]]=e[i[o]];return t};var D="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(D&&t[D]){var e;if("function"!=typeof(e=t[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,i,o=new Promise(function(t,o){e=t,i=o}),n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);n.push(function(t,o){t?i(t):e(o)});try{t.apply(this,n)}catch(t){i(t)}return o}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),D&&Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,o(t))},e.promisify.custom=D,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);var n=i.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var r=this,s=function(){return n.apply(r,arguments)};e.apply(this,i).then(function(e){t.nextTick(s,null,e)},function(e){t.nextTick(x,e,s)})}return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),Object.defineProperties(i,o(e)),i}}).call(this,i(9))},function(t,e,i){"use strict";i.r(e);var o=i(1);for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);var r=i(4);for(var n in r)"default"!==n&&function(t){i.d(e,t,function(){return r[t]})}(n);var s=i(0);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);var a=i(5);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);var h=i(6);for(var n in h)"default"!==n&&function(t){i.d(e,t,function(){return h[t]})}(n);var c=i(3);for(var n in c)"default"!==n&&function(t){i.d(e,t,function(){return c[t]})}(n);i(12)},function(t,e){var i,o,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var h,c=[],l=!1,u=-1;function d(){l&&h&&(l=!1,h.length?c=h.concat(c):u=-1,c.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(h=c,c=[];++u<e;)h&&h[u].run();u=-1,e=c.length}h=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new f(t,e)),1!==c.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e,i){var o=i(13);"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(15)(o,n);o.locals&&(t.exports=o.locals)},function(t,e,i){(t.exports=i(14)(!1)).push([t.i,".animated {\n  animation-duration: .5s; }\n\n* {\n  box-sizing: border-box;\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none; }\n\nhtml, body {\n  overscroll-behavior-y: contain;\n  overflow: hidden; }\n\nhtml {\n  display: table;\n  width: 100vw;\n  height: 100vh;\n  font-family: \"Courier New\", Courier, monospace; }\n\nbody {\n  display: table-cell;\n  vertical-align: middle; }\n  body > canvas {\n    display: block;\n    margin: auto;\n    transition-duration: .5s; }\n  body > .title {\n    display: block;\n    margin: auto;\n    text-align: center; }\n    body > .title > h2 {\n      margin: 0;\n      font-size: 45px;\n      line-height: 1; }\n    body > .title > h6 {\n      margin: 0;\n      font-size: 20px;\n      line-height: 1; }\n  body > .footer {\n    color: #FFF;\n    display: block;\n    margin: auto;\n    padding-top: 10px;\n    text-align: center;\n    font-size: 12px; }\n    body > .footer > p {\n      margin: 0; }\n    body > .footer a,\n    body > .footer a:active,\n    body > .footer a:visited {\n      color: #FFF; }\n    body > .footer a:hover {\n      text-decoration: underline; }\n  body > .mobile-control {\n    position: fixed;\n    bottom: 150px;\n    left: 50%;\n    transform: translateX(-50%);\n    border-radius: 50%;\n    width: 90px;\n    height: 90px;\n    background: rgba(255, 255, 255, 0.2); }\n    body > .mobile-control > div {\n      position: absolute;\n      border-radius: 50%;\n      width: 70px;\n      height: 70px;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      box-shadow: inset 0 -5px 20px rgba(255, 255, 255, 0.5), 0 0 10px rgba(0, 0, 0, 0.3); }\n\n.suspended-window {\n  z-index: 999;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  min-width: var(--canvas-width);\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  filter: blur(0.4px); }\n  .suspended-window > section {\n    width: calc(var(--canvas-width) - 100px);\n    background: #FFF;\n    border-radius: 20px;\n    box-shadow: 0 0 25px rgba(0, 0, 0, 0.5), 0 0 100px rgba(255, 255, 255, 0.4);\n    padding: 25px 30px 30px 30px;\n    text-align: center;\n    border: 10px solid var(--game-gold);\n    position: relative;\n    animation-delay: .2s; }\n    .suspended-window > section > h1 {\n      margin-top: -80px;\n      margin-bottom: 45px;\n      font-size: 40px;\n      color: var(--game-gold);\n      text-transform: uppercase; }\n    .suspended-window > section > h4 {\n      color: var(--game-blue);\n      margin: 0 0 30px 0;\n      font-size: 25px;\n      line-height: 1; }\n    .suspended-window > section > p {\n      color: #888;\n      margin: 0 0 30px 0;\n      font-size: 22px;\n      line-height: 1; }\n      .suspended-window > section > p > span {\n        display: block;\n        padding-bottom: 15px; }\n    .suspended-window > section > button {\n      width: 100%;\n      border: none;\n      background: var(--game-blue);\n      border-radius: 30px;\n      padding: 10px 30px;\n      text-transform: uppercase;\n      color: #FFF;\n      font-weight: bold;\n      cursor: pointer;\n      font-size: 17px;\n      outline: none;\n      font-family: \"Courier New\", Courier, monospace; }\n      .suspended-window > section > button.yellow {\n        background: var(--game-gold); }\n      .suspended-window > section > button:not(:last-child) {\n        margin-bottom: 15px; }\n    .suspended-window > section > ul {\n      list-style: none;\n      margin: 0 auto;\n      display: table;\n      padding: 0 0 30px 0;\n      text-align: left; }\n      .suspended-window > section > ul > li {\n        font-size: 17px;\n        margin-bottom: 10px;\n        color: #888; }\n        .suspended-window > section > ul > li > * {\n          display: inline-block;\n          vertical-align: middle; }\n          .suspended-window > section > ul > li > *:not(:last-child) {\n            margin-right: 15px; }\n        .suspended-window > section > ul > li:not(:last-child) {\n          margin-bottom: 15px; }\n    .suspended-window > section .key {\n      border: 2px solid var(--game-blue);\n      width: 42px;\n      height: 42px;\n      border-radius: 3px;\n      position: relative; }\n      .suspended-window > section .key::before {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n        border-top: 6px solid transparent;\n        border-bottom: 6px solid transparent; }\n      .suspended-window > section .key-up::before {\n        content: '';\n        border-top: 0;\n        border-bottom: 6px solid #555; }\n      .suspended-window > section .key-down::before {\n        content: '';\n        border-top: 6px solid #555;\n        border-bottom: 0; }\n      .suspended-window > section .key-left::before {\n        content: '';\n        border-left: 0;\n        border-right: 6px solid #555; }\n      .suspended-window > section .key-right::before {\n        content: '';\n        border-right: 0;\n        border-left: 6px solid #555; }\n  .suspended-window ~ *:not(.suspended-window) {\n    filter: blur(5px); }\n",""])},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"==typeof btoa){var n=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[i].concat(r).concat([n]).join("\n")}var s;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},n=0;n<this.length;n++){var r=this[n][0];null!=r&&(o[r]=!0)}for(n=0;n<t.length;n++){var s=t[n];null!=s[0]&&o[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){var o,n,r={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=o.apply(this,arguments)),n}),a=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),h=null,c=0,l=[],u=i(16);function d(t,e){for(var i=0;i<t.length;i++){var o=t[i],n=r[o.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](o.parts[s]);for(;s<o.parts.length;s++)n.parts.push(I(o.parts[s],e))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(I(o.parts[s],e));r[o.id]={id:o.id,refs:1,parts:a}}}}function p(t,e){for(var i=[],o={},n=0;n<t.length;n++){var r=t[n],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};o[s]?o[s].parts.push(a):i.push(o[s]={id:s,parts:[a]})}return i}function f(t,e){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===t.insertAt)o?o.nextSibling?i.insertBefore(e,o.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),l.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=a(t.insertAt.before,i);i.insertBefore(e,n)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return i.nc}();o&&(t.attrs.nonce=o)}return T(e,t.attrs),f(t,e),e}function T(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function I(t,e){var i,o,n,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var s=c++;i=h||(h=m(e)),o=O.bind(null,i,s,!1),n=O.bind(null,i,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",T(e,t.attrs),f(t,e),e}(e),o=function(t,e,i){var o=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(o=u(o));n&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var s=new Blob([o],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,i,e),n=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(e),o=function(t,e){var i=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),n=function(){g(i)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=p(t,e);return d(i,e),function(t){for(var o=[],n=0;n<i.length;n++){var s=i[n];(a=r[s.id]).refs--,o.push(a)}t&&d(p(t,e),e);for(n=0;n<o.length;n++){var a;if(0===(a=o[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete r[a.id]}}}};var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function O(t,e,i,o){var n=i?"":o.css;if(t.styleSheet)t.styleSheet.cssText=b(e,n);else{var r=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,o=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}}]);